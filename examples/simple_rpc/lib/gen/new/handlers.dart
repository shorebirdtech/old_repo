// Generated by `dart run shorebird generate`.
import 'dart:core';

import 'package:shorebird/handler.dart';
import 'package:simple_rpc/model.dart';

import '../../endpoints.dart';
import 'handlers.dart';

class SendmessageArgs {
  SendmessageArgs(
    this.message,
    this.stampColor,
  );

  SendmessageArgs.fromJson(Map<String, dynamic> json)
      : message = json['message'] as Message,
        stampColor = json['stampColor'] as String;

  final Message message;

  final String stampColor;

  Map<String, dynamic> toJson() {
    return {'message': message, 'stampColor': stampColor};
  }
}

List<Handler> allHandlers = <Handler>[
  Handler.simpleCall(
    'sendMessage',
    (
      context,
      json,
    ) async {
      final args = SendmessageArgs.fromJson(json);
      return await sendMessage(
        context,
        args.message,
        args.stampColor,
      );
    },
  ),
  Handler.stream(
    'newMessages',
    (
      context,
      json,
    ) {
      return newMessages(context).asyncMap((element) => element.toJson());
    },
  ),
];
