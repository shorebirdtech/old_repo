Main package for Shorebird

## Installation

```
dart pub global activate shorebird
shorebird generate
shorebird run
```

## Usage

@Endpoint annotations are used to mark functions that should be exposed
as serverless functions.  The function must return a Future or a Stream.
`shorebird generate` will generate the necessary server and client code
to connect to the function.

```dart
import 'package:shorebird/shorebird.dart';

@Endpoint
Future<String> hello(RequestContext context) async {
  return 'Hello, world!';
}

import 'gen/client.dart'; // Generated by `shorebird generate`.

void main() async {
  var client = Client();
  var result = await client.hello();
  print(result); // Prints 'Hello, world!'
}
```

@Storable annotations are used to mark classes that can be stored in a
datastore.
@Transportable annotations are used to mark classes that can be sent across
the network.  It's often the case that a class is both Storable and
Transportable.

```dart
import 'package:shorebird/annotations.dart';

@Endpoint
Future<void> addPerson(RequestContext context, Person newPerson) async {
  DataStore.of(context).collection<Person>().add(newPerson);
}

@Endpoint
Future<Person> getPerson(String name) async {
  return DataStore.of(context).collection<Person>().firstWhere((p) => p.name == name);
}

@Storable()
@Transportable()
class Person {
  String name;
  int age;
}

void main() {
  var client = Client();
  var person = Person()..name = 'Bob'..age = 42;
  await client.addPerson(person);
  var bob = await client.getPerson('Bob');
  print(bob.age); // Prints '42'
}
```

# Notes

## Known issues
- `shorebird run` does not (yet) call `shorebird generate` before running.
  This means that if you change Endpoints, Storable, or Transportable classes
  you need to run `shorebird generate` manually before running.
- `shorebird run` leaks processes on Windows.  The pid of the process it starts
  is not the same as the pid the process itself sees.  I think this happens
  because `dart run` is a wrapper, which exits leaving the child process
  with a differnet pid.
